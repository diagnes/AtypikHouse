<?php

namespace HousingBundle\Repository;

use HousingBundle\Entity\HousingNotation;

/**
 * HousingNotationRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class HousingNotationRepository extends \Doctrine\ORM\EntityRepository
{
    /**
     * Get the reservation of the proprietary
     *
     * @param int $id Get the proprietary user id
     *
     * @return HousingNotation[]
     */
    public function getUserNotation(int $id)
    {
        $qb = $this->createQueryBuilder('hn');

        $qb
            ->innerJoin('hn.reservation', 'r')
            ->innerJoin('r.user', 'u')
            ->where('u.id = :userId')
            ->setParameter('userId', $id);

        return $qb->getQuery()->getResult();
    }
}

